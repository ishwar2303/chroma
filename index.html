<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="pretty-code-assets/css/main.css">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
    <title>Import | Export</title>
</head>
<body>
    

    <div class="wrapper">

        <div pretty-code="true" data-lang="html" class="pretty-code-wrapper">
            <div class="pretty-code-header">Structure to use pretty code format</div>
            <div class="pretty-user-code"></div>
            <textarea class="pretty-user-code-placement">
            
<div pretty-code="true" data-lang="html" class="pretty-code-wrapper">
    <div class="pretty-code-header">Code Heading</div>
    <div class="pretty-user-code"></div>
    <textarea class="pretty-user-code-placement">
        Paste your code here to convert it into pretty format
    &lt;/textarea>
</div>    

            </textarea>
        </div>

        
        <div pretty-code="true" data-lang="css" class="pretty-code-wrapper">
            <div class="pretty-code-header">Code Heading</div>
            <div class="pretty-user-code"></div>
            <textarea class="pretty-user-code-placement">
                .comment{
    color: rgb(153, 153, 153);
}
.property-name{
    color :rgb(77 105 244);
}
.period{
    color : yellow;
}
.property-value{
    color: #afbb6b;
}
.universal-selector{
    color: #e9ff86;
}
.media{
    color: rgb(252, 255, 89);
}
.constant-numeric{
    color: yellow;
}
.hex-color{
    color : rgb(188 146 255);
}
.class, .tag-name{
    color: rgb(255, 103, 103);
}
.id{
    color: rgb(158, 255, 174);
}
.string{
    color: rgb(67, 189, 67);
}
.numeric-constant{
    color: rgb(176 140 39);
}
.rgba, .rgb{
    color: #c774c9;;
}
.class .rgb, .class .rgba, .id .rgb, .id .rgba{
    color: rgb(255, 103, 103);
}
.class .numeric-constant, .class .constant-numeric, .class .tag-name{
    color: rgb(255, 103, 103);
}
.id .numeric-constant, .id .constant-numeric, .id .tag-name{
    color: rgb(158, 255, 174);
}
.string .rgba, .string .numeric-constant, .string .class, .string .id, .string .constant-numeric, .string .tag-name{
    color: rgb(67, 189, 67);
}
.comment .rgba, .comment .numeric-constant, .comment .string, .comment .id, .comment .class, .comment .tag-name, .comment .constant-numeric, .comment .media, .comment .universal-selector{
    color: rgb(153, 153, 153);
}
.hex-color .numeric-constant, .hex-color .id, .hex-color .constant-numeric{
    color : rgb(188 146 255);
}
            </textarea>
        </div>


        <div pretty-code="true" data-lang="javascript" class="pretty-code-wrapper">
            <div class="pretty-code-header">Code Heading</div>
            <div class="pretty-user-code"></div>
            <textarea class="pretty-user-code-placement">
import language from './language-setting.js'
import convertToPrettyCode from './convert-to-pretty-code.js'

let prettyCodeContainer = document.querySelectorAll('[pretty-code]')
let body = document.getElementsByTagName('body')[0]
let head = document.getElementsByTagName('head')[0]
console.log(prettyCodeContainer)

function import_required_assets(){
    let i, j, textarea, message
    let dataLanguage, link, userCodeContainer 
    let languageCssPath = 'pretty-code-assets/css/language/'
    // console.log(language)
    for(i=0; i<prettyCodeContainer.length; i++){
        console.log(prettyCodeContainer[i])
        dataLanguage = prettyCodeContainer[i].attributes[1].nodeValue
        for(j=0; j<language.length; j++){
            if(language[j].lang == dataLanguage && !language[j].imported){
                language[j].imported = true
                link = document.createElement('link')
                link.href = languageCssPath + dataLanguage + '.css'
                link.rel = 'stylesheet'
                head.appendChild(link)
            }
        }
        userCodeContainer = prettyCodeContainer[i].getElementsByClassName('pretty-user-code')[0] 
        textarea = prettyCodeContainer[i].getElementsByTagName('textarea')[0] 
        if(textarea){
            console.log(textarea)
            // console.log(userCodeContainer)
            convertToPrettyCode(prettyCodeContainer[i], userCodeContainer, dataLanguage, textarea.value)
            textarea.remove()
        }
        else{
            console.error('textarea with corresponding code-wrapper not found')
            message = 'th'
            if(i == 0)
                message = 'st'
            else if(i == 1)
                message = 'nd'
            else if(i == 2)
                message = '3rd'
            console.error('Check ' + (i+1) + message + ' position code-wrapper in your code')
            return ;
        }
    }
}
import_required_assets()
            </textarea>
        </div>


    </div>

    <script src="pretty-code-assets/script/main.js" type="module"></script>


</body>
</html>
